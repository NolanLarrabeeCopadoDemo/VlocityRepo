<?xml version="1.0" encoding="UTF-8"?>
<BatchCalcJobDefinition xmlns="http://soap.sforce.com/2006/04/metadata">
    <aggregates>
        <fields>
            <aggregateFunction>Sum</aggregateFunction>
            <alias>AggregateTransactionAmountTillDate</alias>
            <sourceFieldName>TransactionAmount</sourceFieldName>
        </fields>
        <groupBy>LoyaltyMemberId</groupBy>
        <label>14.AggregateTotalTransactionAmountForMembers</label>
        <name>X14_AggregateTotalTransactionAmountForMembers</name>
        <sourceName>X24_FilterNotCancelledJournalBasedOnJournalSubType</sourceName>
    </aggregates>
    <datasources>
        <fields>
            <alias>ActivityDateTime</alias>
            <name>ActivityDate</name>
        </fields>
        <fields>
            <alias>JournalSubTypeId</alias>
            <name>JournalSubTypeId</name>
        </fields>
        <fields>
            <alias>LoyaltyProgramId</alias>
            <name>LoyaltyProgramId</name>
        </fields>
        <fields>
            <alias>MemberId</alias>
            <name>MemberId</name>
        </fields>
        <fields>
            <alias>Status</alias>
            <name>Status</name>
        </fields>
        <fields>
            <alias>TransactionAmount</alias>
            <name>TransactionAmount</name>
        </fields>
        <label>1.TransactionJournal</label>
        <name>X1_TransactionJournal</name>
        <sourceName>TransactionJournal</sourceName>
        <type>StandardObject</type>
    </datasources>
    <datasources>
        <fields>
            <alias>Id</alias>
            <name>Id</name>
        </fields>
        <fields>
            <alias>Name</alias>
            <name>Name</name>
        </fields>
        <label>2.JournalSubType</label>
        <name>X2_JournalSubType</name>
        <sourceName>JournalSubType</sourceName>
        <type>StandardObject</type>
    </datasources>
    <datasources>
        <fields>
            <alias>Id</alias>
            <name>Id</name>
        </fields>
        <fields>
            <alias>LoyaltyProgramId</alias>
            <name>LoyaltyProgramId</name>
        </fields>
        <fields>
            <alias>Name</alias>
            <name>Name</name>
        </fields>
        <label>3.LoyaltyTierGroup</label>
        <name>X3_LoyaltyTierGroup</name>
        <sourceName>LoyaltyTierGroup</sourceName>
        <type>StandardObject</type>
    </datasources>
    <datasources>
        <fields>
            <alias>BrandingPercentage</alias>
            <name>BrandingPercentage__c</name>
        </fields>
        <fields>
            <alias>Id</alias>
            <name>Id</name>
        </fields>
        <fields>
            <alias>PartnershipStartDate</alias>
            <name>PartnershipStartDate__c</name>
        </fields>
        <fields>
            <alias>QuarterlyConferenceAttended</alias>
            <name>QuarterlyConferenceAttended__c</name>
        </fields>
        <fields>
            <alias>TeamTrainedPercentage</alias>
            <name>TeamTrainedPercentage__c</name>
        </fields>
        <label>4.LoyaltyProgramMember</label>
        <name>X4_LoyaltyProgramMember</name>
        <sourceName>LoyaltyProgramMember</sourceName>
        <type>StandardObject</type>
    </datasources>
    <datasources>
        <fields>
            <alias>Id</alias>
            <name>Id</name>
        </fields>
        <fields>
            <alias>LoyaltyMemberId</alias>
            <name>LoyaltyMemberId</name>
        </fields>
        <fields>
            <alias>LoyaltyTierGroupId</alias>
            <name>LoyaltyTierGroupId</name>
        </fields>
        <fields>
            <alias>LoyaltyTierId</alias>
            <name>LoyaltyTierId</name>
        </fields>
        <fields>
            <alias>TierExpirationDate</alias>
            <name>TierExpirationDate</name>
        </fields>
        <label>5.LoyaltyMemberTier</label>
        <name>X5_LoyaltyMemberTier</name>
        <sourceName>LoyaltyMemberTier</sourceName>
        <type>StandardObject</type>
    </datasources>
    <datasources>
        <fields>
            <alias>Id</alias>
            <name>Id</name>
        </fields>
        <fields>
            <alias>LoyaltyTierGroupId</alias>
            <name>LoyaltyTierGroupId</name>
        </fields>
        <fields>
            <alias>SequenceNumber</alias>
            <name>SequenceNumber</name>
        </fields>
        <label>6.LoyaltyTier</label>
        <name>X6_LoyaltyTier</name>
        <sourceName>LoyaltyTier</sourceName>
        <type>StandardObject</type>
    </datasources>
    <datasources>
        <fields>
            <alias>AggregateTransactionAmountTillDate</alias>
            <name>AggregateTransactionAmountTillDate__c</name>
        </fields>
        <fields>
            <alias>BrandingPercentage</alias>
            <name>BrandingPercentage__c</name>
        </fields>
        <fields>
            <alias>Id</alias>
            <name>Id</name>
        </fields>
        <fields>
            <alias>LoyaltyProgramMember</alias>
            <name>LoyaltyProgramMember__c</name>
        </fields>
        <fields>
            <alias>PartnershipYears</alias>
            <name>PartnershipYears__c</name>
        </fields>
        <fields>
            <alias>QuarterlyConferenceAttended</alias>
            <name>QuarterlyConferenceAttended__c</name>
        </fields>
        <fields>
            <alias>SequenceNumber</alias>
            <name>SequenceNumber__c</name>
        </fields>
        <fields>
            <alias>TeamTrainedPercentage</alias>
            <name>TeamTrainedPercentage__c</name>
        </fields>
        <fields>
            <alias>TierExpirationDate</alias>
            <name>TierExpirationDate__c</name>
        </fields>
        <label>7.TierAssessmentMember</label>
        <name>X7_TierAssessmentMember</name>
        <sourceName>TierAssessmentMember__c</sourceName>
        <type>StandardObject</type>
    </datasources>
    <description>Calculates and selects loyalty program members who are eligible for tier assessment based on their transactions.</description>
    <filters>
        <criteria>
            <operator>Equals</operator>
            <sequence>1</sequence>
            <sourceFieldName>Status</sourceFieldName>
            <value>Processed</value>
        </criteria>
        <criteria>
            <inputVariable>StartDate</inputVariable>
            <operator>GreaterThanOrEquals</operator>
            <sequence>2</sequence>
            <sourceFieldName>ActivitDate</sourceFieldName>
        </criteria>
        <criteria>
            <inputVariable>EndDate</inputVariable>
            <operator>LessThanOrEquals</operator>
            <sequence>3</sequence>
            <sourceFieldName>ActivitDate</sourceFieldName>
        </criteria>
        <filterCondition>1 AND 2 AND 3</filterCondition>
        <isDynamicFilter>false</isDynamicFilter>
        <label>12.FilterNotCancelledJournals</label>
        <name>X12_FilterNotCancelledJournals</name>
        <sourceName>X11_ApendActivityDateOnly</sourceName>
    </filters>
    <filters>
        <criteria>
            <inputVariable>TierGroupName</inputVariable>
            <operator>Equals</operator>
            <sequence>1</sequence>
            <sourceFieldName>LoyaltyTierGroupName</sourceFieldName>
        </criteria>
        <filterCondition>1</filterCondition>
        <isDynamicFilter>false</isDynamicFilter>
        <label>13.FilterMembersByLoyaltyTierGroup</label>
        <name>X13_FilterMembersByLoyaltyTierGroup</name>
        <sourceName>X10_LMTAndLTPlusLTG</sourceName>
    </filters>
    <filters>
        <criteria>
            <operator>Equals</operator>
            <sequence>1</sequence>
            <sourceFieldName>IsTransactionAmountEqual</sourceFieldName>
            <value>0</value>
        </criteria>
        <criteria>
            <operator>Equals</operator>
            <sequence>2</sequence>
            <sourceFieldName>IsBrandingPercentageEqual</sourceFieldName>
            <value>0</value>
        </criteria>
        <criteria>
            <operator>Equals</operator>
            <sequence>3</sequence>
            <sourceFieldName>IsTeamTrainedPercentageEqual</sourceFieldName>
            <value>0</value>
        </criteria>
        <criteria>
            <operator>Equals</operator>
            <sequence>4</sequence>
            <sourceFieldName>IsQuarterlyConferenceAttendedEqual</sourceFieldName>
            <value>0</value>
        </criteria>
        <criteria>
            <operator>Equals</operator>
            <sequence>5</sequence>
            <sourceFieldName>IsPartnershipYearsEqual</sourceFieldName>
            <value>0</value>
        </criteria>
        <filterCondition>1 OR 2 OR 3 OR 4 OR 5</filterCondition>
        <isDynamicFilter>false</isDynamicFilter>
        <label>21.ChangedMembers</label>
        <name>X21_ChangedMembers</name>
        <sourceName>X20_CompareNewComputedMembersWithPreviousComputedMembers</sourceName>
    </filters>
    <filters>
        <criteria>
            <operator>Equals</operator>
            <sequence>1</sequence>
            <sourceFieldName>JournalSubTypeName</sourceFieldName>
            <value>Order</value>
        </criteria>
        <criteria>
            <operator>Equals</operator>
            <sequence>2</sequence>
            <sourceFieldName>JournalSubTypeName</sourceFieldName>
            <value>Invoice</value>
        </criteria>
        <filterCondition>1 OR 2</filterCondition>
        <isDynamicFilter>false</isDynamicFilter>
        <label>24.FilterNotCancelledJournalBasedOnJournalSubType</label>
        <name>X24_FilterNotCancelledJournalBasedOnJournalSubType</name>
        <sourceName>X12_FilterNotCancelledJournals</sourceName>
    </filters>
    <isTemplate>false</isTemplate>
    <joins>
        <fields>
            <alias>LoyaltyMemberId</alias>
            <sourceFieldName>LoyaltyMemberId</sourceFieldName>
            <sourceName>X9_LMTPlusLT</sourceName>
        </fields>
        <fields>
            <alias>LoyaltyTierGroupId</alias>
            <sourceFieldName>LoyaltyTierGroupId</sourceFieldName>
            <sourceName>X9_LMTPlusLT</sourceName>
        </fields>
        <fields>
            <alias>LoyaltyTierGroupName</alias>
            <sourceFieldName>Name</sourceFieldName>
            <sourceName>X3_LoyaltyTierGroup</sourceName>
        </fields>
        <fields>
            <alias>SequenceNumber</alias>
            <sourceFieldName>SequenceNumber</sourceFieldName>
            <sourceName>X9_LMTPlusLT</sourceName>
        </fields>
        <fields>
            <alias>TierExpirationDate</alias>
            <sourceFieldName>TierExpirationDate</sourceFieldName>
            <sourceName>X9_LMTPlusLT</sourceName>
        </fields>
        <joinKeys>
            <primarySourceFieldName>LoyaltyTierGroupId</primarySourceFieldName>
            <secondarySourceFieldName>Id</secondarySourceFieldName>
        </joinKeys>
        <label>10.LMTAndLTPlusLTG</label>
        <name>X10_LMTAndLTPlusLTG</name>
        <primarySourceName>X9_LMTPlusLT</primarySourceName>
        <secondarySourceName>X3_LoyaltyTierGroup</secondarySourceName>
        <type>Inner</type>
    </joins>
    <joins>
        <fields>
            <alias>AggregateTransactionAmountTillDate</alias>
            <sourceFieldName>AggregateTransactionAmountTillDate</sourceFieldName>
            <sourceName>X14_AggregateTotalTransactionAmountForMembers</sourceName>
        </fields>
        <fields>
            <alias>LoyaltyMemberId</alias>
            <sourceFieldName>LoyaltyMemberId</sourceFieldName>
            <sourceName>X13_FilterMembersByLoyaltyTierGroup</sourceName>
        </fields>
        <fields>
            <alias>SequenceNumber</alias>
            <sourceFieldName>SequenceNumber</sourceFieldName>
            <sourceName>X13_FilterMembersByLoyaltyTierGroup</sourceName>
        </fields>
        <fields>
            <alias>TierExpirationDate</alias>
            <sourceFieldName>TierExpirationDate</sourceFieldName>
            <sourceName>X13_FilterMembersByLoyaltyTierGroup</sourceName>
        </fields>
        <joinKeys>
            <primarySourceFieldName>LoyaltyMemberId</primarySourceFieldName>
            <secondarySourceFieldName>LoyaltyMemberId</secondarySourceFieldName>
        </joinKeys>
        <label>15.AggregateMembers</label>
        <name>X15_AggregateMembers</name>
        <primarySourceName>X13_FilterMembersByLoyaltyTierGroup</primarySourceName>
        <secondarySourceName>X14_AggregateTotalTransactionAmountForMembers</secondarySourceName>
        <type>Inner</type>
    </joins>
    <joins>
        <fields>
            <alias>AggregateTransactionAmountTillDate</alias>
            <sourceFieldName>AggregateTransactionAmountTillDate</sourceFieldName>
            <sourceName>X15_AggregateMembers</sourceName>
        </fields>
        <fields>
            <alias>BrandingPercentage</alias>
            <sourceFieldName>BrandingPercentage</sourceFieldName>
            <sourceName>X17_CurrentTotalPartnershipYears</sourceName>
        </fields>
        <fields>
            <alias>LoyaltyMemberId</alias>
            <sourceFieldName>LoyaltyMemberId</sourceFieldName>
            <sourceName>X15_AggregateMembers</sourceName>
        </fields>
        <fields>
            <alias>PartnershipYears</alias>
            <sourceFieldName>PartnershipYears</sourceFieldName>
            <sourceName>X17_CurrentTotalPartnershipYears</sourceName>
        </fields>
        <fields>
            <alias>QuarterlyConferenceAttended</alias>
            <sourceFieldName>QuarterlyConferenceAttended</sourceFieldName>
            <sourceName>X17_CurrentTotalPartnershipYears</sourceName>
        </fields>
        <fields>
            <alias>SequenceNumber</alias>
            <sourceFieldName>SequenceNumber</sourceFieldName>
            <sourceName>X15_AggregateMembers</sourceName>
        </fields>
        <fields>
            <alias>TeamTrainedPercentage</alias>
            <sourceFieldName>TeamTrainedPercentage</sourceFieldName>
            <sourceName>X17_CurrentTotalPartnershipYears</sourceName>
        </fields>
        <fields>
            <alias>TierExpirationDate</alias>
            <sourceFieldName>TierExpirationDate</sourceFieldName>
            <sourceName>X15_AggregateMembers</sourceName>
        </fields>
        <joinKeys>
            <primarySourceFieldName>LoyaltyMemberId</primarySourceFieldName>
            <secondarySourceFieldName>Id</secondarySourceFieldName>
        </joinKeys>
        <label>18.AggregateMembersPlusCurrentTotalPartnershipYears</label>
        <name>X18_AggregateMembersPlusCurrentTotalPartnershipYears</name>
        <primarySourceName>X15_AggregateMembers</primarySourceName>
        <secondarySourceName>X17_CurrentTotalPartnershipYears</secondarySourceName>
        <type>Inner</type>
    </joins>
    <joins>
        <fields>
            <alias>AggregateTransactionAmountTillDate</alias>
            <sourceFieldName>AggregateTransactionAmountTillDate</sourceFieldName>
            <sourceName>X18_AggregateMembersPlusCurrentTotalPartnershipYears</sourceName>
        </fields>
        <fields>
            <alias>BrandingPercentage</alias>
            <sourceFieldName>BrandingPercentage</sourceFieldName>
            <sourceName>X18_AggregateMembersPlusCurrentTotalPartnershipYears</sourceName>
        </fields>
        <fields>
            <alias>LoyaltyMemberId</alias>
            <sourceFieldName>LoyaltyMemberId</sourceFieldName>
            <sourceName>X18_AggregateMembersPlusCurrentTotalPartnershipYears</sourceName>
        </fields>
        <fields>
            <alias>PartnershipYears</alias>
            <sourceFieldName>PartnershipYears</sourceFieldName>
            <sourceName>X18_AggregateMembersPlusCurrentTotalPartnershipYears</sourceName>
        </fields>
        <fields>
            <alias>Previous_AggregateTransactionAmountTillDate</alias>
            <sourceFieldName>AggregateTransactionAmountTillDate</sourceFieldName>
            <sourceName>X7_TierAssessmentMember</sourceName>
        </fields>
        <fields>
            <alias>Previous_BrandingPercentage</alias>
            <sourceFieldName>BrandingPercentage</sourceFieldName>
            <sourceName>X7_TierAssessmentMember</sourceName>
        </fields>
        <fields>
            <alias>Previous_PartnershipYears</alias>
            <sourceFieldName>PartnershipYears</sourceFieldName>
            <sourceName>X7_TierAssessmentMember</sourceName>
        </fields>
        <fields>
            <alias>Previous_QuarterlyConferenceAttended</alias>
            <sourceFieldName>QuarterlyConferenceAttended</sourceFieldName>
            <sourceName>X7_TierAssessmentMember</sourceName>
        </fields>
        <fields>
            <alias>Previous_TeamTrainedPercentage</alias>
            <sourceFieldName>TeamTrainedPercentage</sourceFieldName>
            <sourceName>X7_TierAssessmentMember</sourceName>
        </fields>
        <fields>
            <alias>QuarterlyConferenceAttended</alias>
            <sourceFieldName>QuarterlyConferenceAttended</sourceFieldName>
            <sourceName>X18_AggregateMembersPlusCurrentTotalPartnershipYears</sourceName>
        </fields>
        <fields>
            <alias>SequenceNumber</alias>
            <sourceFieldName>SequenceNumber</sourceFieldName>
            <sourceName>X18_AggregateMembersPlusCurrentTotalPartnershipYears</sourceName>
        </fields>
        <fields>
            <alias>TeamTrainedPercentage</alias>
            <sourceFieldName>TeamTrainedPercentage</sourceFieldName>
            <sourceName>X18_AggregateMembersPlusCurrentTotalPartnershipYears</sourceName>
        </fields>
        <fields>
            <alias>TierAssessmentMemberId</alias>
            <sourceFieldName>Id</sourceFieldName>
            <sourceName>X7_TierAssessmentMember</sourceName>
        </fields>
        <fields>
            <alias>TierExpirationDate</alias>
            <sourceFieldName>TierExpirationDate</sourceFieldName>
            <sourceName>X18_AggregateMembersPlusCurrentTotalPartnershipYears</sourceName>
        </fields>
        <joinKeys>
            <primarySourceFieldName>LoyaltyMemberId</primarySourceFieldName>
            <secondarySourceFieldName>LoyaltyProgramMember</secondarySourceFieldName>
        </joinKeys>
        <label>19.ComputedNewMembersPlusComputedPreviousMembers</label>
        <name>X19_ComputedNewMembersPlusComputedPreviousMembers</name>
        <primarySourceName>X18_AggregateMembersPlusCurrentTotalPartnershipYears</primarySourceName>
        <secondarySourceName>X7_TierAssessmentMember</secondarySourceName>
        <type>LeftOuter</type>
    </joins>
    <joins>
        <fields>
            <alias>ActivityDateTime</alias>
            <sourceFieldName>ActivityDateTime</sourceFieldName>
            <sourceName>X1_TransactionJournal</sourceName>
        </fields>
        <fields>
            <alias>JournalSubTypeId</alias>
            <sourceFieldName>JournalSubTypeId</sourceFieldName>
            <sourceName>X1_TransactionJournal</sourceName>
        </fields>
        <fields>
            <alias>JournalSubTypeName</alias>
            <sourceFieldName>Name</sourceFieldName>
            <sourceName>X2_JournalSubType</sourceName>
        </fields>
        <fields>
            <alias>LoyaltyMemberId</alias>
            <sourceFieldName>MemberId</sourceFieldName>
            <sourceName>X1_TransactionJournal</sourceName>
        </fields>
        <fields>
            <alias>Status</alias>
            <sourceFieldName>Status</sourceFieldName>
            <sourceName>X1_TransactionJournal</sourceName>
        </fields>
        <fields>
            <alias>TransactionAmount</alias>
            <sourceFieldName>TransactionAmount</sourceFieldName>
            <sourceName>X1_TransactionJournal</sourceName>
        </fields>
        <joinKeys>
            <primarySourceFieldName>JournalSubTypeId</primarySourceFieldName>
            <secondarySourceFieldName>Id</secondarySourceFieldName>
        </joinKeys>
        <label>8.TJPlusJST</label>
        <name>X8_TJPlusJST</name>
        <primarySourceName>X1_TransactionJournal</primarySourceName>
        <secondarySourceName>X2_JournalSubType</secondarySourceName>
        <type>Inner</type>
    </joins>
    <joins>
        <fields>
            <alias>LoyaltyMemberId</alias>
            <sourceFieldName>LoyaltyMemberId</sourceFieldName>
            <sourceName>X5_LoyaltyMemberTier</sourceName>
        </fields>
        <fields>
            <alias>LoyaltyTierGroupId</alias>
            <sourceFieldName>LoyaltyTierGroupId</sourceFieldName>
            <sourceName>X6_LoyaltyTier</sourceName>
        </fields>
        <fields>
            <alias>SequenceNumber</alias>
            <sourceFieldName>SequenceNumber</sourceFieldName>
            <sourceName>X6_LoyaltyTier</sourceName>
        </fields>
        <fields>
            <alias>TierExpirationDate</alias>
            <sourceFieldName>TierExpirationDate</sourceFieldName>
            <sourceName>X5_LoyaltyMemberTier</sourceName>
        </fields>
        <joinKeys>
            <primarySourceFieldName>LoyaltyTierId</primarySourceFieldName>
            <secondarySourceFieldName>Id</secondarySourceFieldName>
        </joinKeys>
        <label>9.LMTPlusLT</label>
        <name>X9_LMTPlusLT</name>
        <primarySourceName>X5_LoyaltyMemberTier</primarySourceName>
        <secondarySourceName>X6_LoyaltyTier</secondarySourceName>
        <type>Inner</type>
    </joins>
    <label>Select Members for Tier Assessment</label>
    <parameters>
        <dataType>Date</dataType>
        <isMultiValue>false</isMultiValue>
        <label>EndDate</label>
        <name>EndDate</name>
    </parameters>
    <parameters>
        <dataType>Date</dataType>
        <isMultiValue>false</isMultiValue>
        <label>StartDate</label>
        <name>StartDate</name>
    </parameters>
    <parameters>
        <dataType>Text</dataType>
        <isMultiValue>false</isMultiValue>
        <label>TierGroupName</label>
        <name>TierGroupName</name>
    </parameters>
    <processType>Loyalty</processType>
    <status>Active</status>
    <transforms>
        <expressionFields>
            <alias>ActivitDate</alias>
            <dataType>Date</dataType>
            <expression>DATEVALUE({ActivityDateTime} )</expression>
        </expressionFields>
        <label>11.ApendActivityDateOnly</label>
        <name>X11_ApendActivityDateOnly</name>
        <sourceName>X8_TJPlusJST</sourceName>
        <transformationType>Expression</transformationType>
    </transforms>
    <transforms>
        <expressionFields>
            <alias>EndDate</alias>
            <dataType>Date</dataType>
            <expression>DATEVALUE({$EndDate} )</expression>
        </expressionFields>
        <label>16.AppendEndDate</label>
        <name>X16_AppendEndDate</name>
        <sourceName>X4_LoyaltyProgramMember</sourceName>
        <transformationType>Expression</transformationType>
    </transforms>
    <transforms>
        <expressionFields>
            <alias>PartnershipYears</alias>
            <dataType>Numeric</dataType>
            <decimalPlaces>2</decimalPlaces>
            <expression>FLOOR(DATEDIFF({EndDate} ,{PartnershipStartDate} )  /365)</expression>
            <length>15</length>
        </expressionFields>
        <label>17.CurrentTotalPartnershipYears</label>
        <name>X17_CurrentTotalPartnershipYears</name>
        <sourceName>X16_AppendEndDate</sourceName>
        <transformationType>Expression</transformationType>
    </transforms>
    <transforms>
        <expressionFields>
            <alias>IsBrandingPercentageEqual</alias>
            <dataType>Numeric</dataType>
            <decimalPlaces>2</decimalPlaces>
            <expression>case ( {TeamTrainedPercentage}, {Previous_TeamTrainedPercentage}, 1, 0)</expression>
            <length>10</length>
        </expressionFields>
        <expressionFields>
            <alias>IsPartnershipYearsEqual</alias>
            <dataType>Numeric</dataType>
            <decimalPlaces>2</decimalPlaces>
            <expression>case ( {PartnershipYears}, {Previous_PartnershipYears}, 1, 0)</expression>
            <length>10</length>
        </expressionFields>
        <expressionFields>
            <alias>IsQuarterlyConferenceAttendedEqual</alias>
            <dataType>Numeric</dataType>
            <decimalPlaces>2</decimalPlaces>
            <expression>case ( {QuarterlyConferenceAttended}, {Previous_QuarterlyConferenceAttended}, 1, 0)</expression>
            <length>10</length>
        </expressionFields>
        <expressionFields>
            <alias>IsTeamTrainedPercentageEqual</alias>
            <dataType>Numeric</dataType>
            <decimalPlaces>2</decimalPlaces>
            <expression>case ( {TeamTrainedPercentage}, {Previous_TeamTrainedPercentage}, 1, 0)</expression>
            <length>10</length>
        </expressionFields>
        <expressionFields>
            <alias>IsTransactionAmountEqual</alias>
            <dataType>Numeric</dataType>
            <decimalPlaces>2</decimalPlaces>
            <expression>case ( {AggregateTransactionAmountTillDate}, {Previous_AggregateTransactionAmountTillDate}, 1, 0)</expression>
            <length>10</length>
        </expressionFields>
        <label>20.CompareNewComputedMembersWithPreviousComputedMembers</label>
        <name>X20_CompareNewComputedMembersWithPreviousComputedMembers</name>
        <sourceName>X19_ComputedNewMembersPlusComputedPreviousMembers</sourceName>
        <transformationType>Expression</transformationType>
    </transforms>
    <transforms>
        <expressionFields>
            <alias>AssessmentType</alias>
            <dataType>Text</dataType>
            <expression>case ( IF({TierExpirationDate} &lt;= {$EndDate}, 1, 0), 1, &quot;Expire Tier&quot;, &quot;Upgrade Tier&quot;)</expression>
            <length>20</length>
        </expressionFields>
        <expressionFields>
            <alias>Status</alias>
            <dataType>Text</dataType>
            <expression>&quot;Pending&quot;</expression>
            <length>20</length>
        </expressionFields>
        <label>22.AppendAssessmentTypeAndStatus</label>
        <name>X22_AppendAssessmentTypeAndStatus</name>
        <sourceName>X21_ChangedMembers</sourceName>
        <transformationType>Expression</transformationType>
    </transforms>
    <writebacks>
        <fields>
            <sourceFieldName>TierAssessmentMemberId</sourceFieldName>
            <targetFieldName>Id</targetFieldName>
        </fields>
        <fields>
            <sourceFieldName>LoyaltyMemberId</sourceFieldName>
            <targetFieldName>LoyaltyProgramMember__c</targetFieldName>
        </fields>
        <fields>
            <sourceFieldName>AggregateTransactionAmountTillDate</sourceFieldName>
            <targetFieldName>AggregateTransactionAmountTillDate__c</targetFieldName>
        </fields>
        <fields>
            <sourceFieldName>SequenceNumber</sourceFieldName>
            <targetFieldName>SequenceNumber__c</targetFieldName>
        </fields>
        <fields>
            <sourceFieldName>BrandingPercentage</sourceFieldName>
            <targetFieldName>BrandingPercentage__c</targetFieldName>
        </fields>
        <fields>
            <sourceFieldName>TeamTrainedPercentage</sourceFieldName>
            <targetFieldName>TeamTrainedPercentage__c</targetFieldName>
        </fields>
        <fields>
            <sourceFieldName>PartnershipYears</sourceFieldName>
            <targetFieldName>PartnershipYears__c</targetFieldName>
        </fields>
        <fields>
            <sourceFieldName>QuarterlyConferenceAttended</sourceFieldName>
            <targetFieldName>QuarterlyConferenceAttended__c</targetFieldName>
        </fields>
        <fields>
            <sourceFieldName>TierExpirationDate</sourceFieldName>
            <targetFieldName>TierExpirationDate__c</targetFieldName>
        </fields>
        <fields>
            <sourceFieldName>AssessmentType</sourceFieldName>
            <targetFieldName>AssessmentType__c</targetFieldName>
        </fields>
        <fields>
            <sourceFieldName>Status</sourceFieldName>
            <targetFieldName>Status__c</targetFieldName>
        </fields>
        <isChangedRow>false</isChangedRow>
        <label>23.CreateTierAssessmentMembers</label>
        <name>X23_CreateTierAssessmentMembers</name>
        <operationType>Upsert</operationType>
        <sourceName>X22_AppendAssessmentTypeAndStatus</sourceName>
        <storageType>sObject</storageType>
        <targetObjectName>TierAssessmentMember__c</targetObjectName>
        <writebackSequence>1</writebackSequence>
        <writebackUser>005Hr00000EirARIAZ</writebackUser>
    </writebacks>
</BatchCalcJobDefinition>
