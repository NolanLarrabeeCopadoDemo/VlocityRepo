["{}","{\"nodes\":{\"JOIN0\":{\"schema\":{\"slice\":{\"mode\":\"DROP\",\"ignoreMissingFields\":true,\"fields\":[\"Owner.Id\"]},\"fields\":[]},\"sources\":[\"APPEND0\",\"LOAD_DATASET2\"],\"action\":\"join\",\"parameters\":{\"leftKeys\":[\"OwnerId\"],\"rightQualifier\":\"Owner\",\"rightKeys\":[\"Id\"],\"joinType\":\"LOOKUP\"}},\"LOAD_DATASET5\":{\"sources\":[],\"action\":\"load\",\"parameters\":{\"fields\":[\"LastModifiedDate\",\"Owner.UniqueUserName\",\"BillingCity\",\"Name\",\"Industry\",\"OwnerId\",\"Phone\",\"AccountSource\",\"Owner.Email\",\"ShippingCountry\",\"BillingPostalCode\",\"ShippingCity\",\"PhotoUrl\",\"Owner.Username\",\"MasterRecordId\",\"ParentId\",\"Owner.Name\",\"LastViewedDate\",\"ShippingStreet\",\"Type\",\"BillingCountry\",\"BillingState\",\"BillingStreet\",\"ShippingPostalCode\",\"CreatedDate\",\"LastActivityDate\",\"ShippingState\",\"Id\",\"BillingState\",\"NumberOfEmployees\",\"AnnualRevenue\"],\"sampleDetails\":{\"sortBy\":[],\"type\":\"TopN\"},\"dataset\":{\"name\":\"Account2\",\"label\":\"Account\",\"type\":\"analyticsDataset\"}}},\"LOAD_DATASET4\":{\"sources\":[],\"action\":\"load\",\"parameters\":{\"fields\":[\"LastModifiedDate\",\"AccountId\",\"HasOpportunityLineItem\",\"Account.Owner.UniqueUserName\",\"ForecastCategory\",\"CloseDate\",\"Name\",\"HasOpenActivity\",\"Owner.Email\",\"Owner.Username\",\"Account.ParentId\",\"IsDeleted\",\"LeadSource\",\"CreatedDate\",\"HasOverdueTask\",\"Id\",\"ForecastCategoryName\",\"NextStep\",\"Account.LastActivityDate\",\"Owner.UniqueUserName\",\"IsClosed\",\"Account.Industry\",\"OwnerId\",\"IsWon\",\"Account.Owner.Username\",\"Owner.Name\",\"StageName\",\"Account.Owner.Name\",\"Type\",\"Account.Owner.Email\",\"LastActivityDate\",\"Account.Name\",\"Amount\"],\"sampleDetails\":{\"sortBy\":[],\"type\":\"TopN\"},\"dataset\":{\"name\":\"Opportunity3\",\"label\":\"Opportunity\",\"type\":\"analyticsDataset\"}}},\"OUTPUT0\":{\"sources\":[\"FORMULA4\"],\"action\":\"save\",\"parameters\":{\"fields\":[],\"dataset\":{\"rowLevelSecurityFilter\":\"'Owner.Role.Roles' == \\\"$User.UserRoleId\\\" || 'OwnerId' == \\\"$User.Id\\\"\",\"name\":\"Activity2\",\"label\":\"Activity\",\"folderName\":\"Customer_Insights_Analytics_v2\",\"type\":\"analyticsDataset\"}}},\"LOAD_DATASET2\":{\"sources\":[],\"action\":\"load\",\"parameters\":{\"fields\":[\"UniqueUserName\",\"Email\",\"Name\",\"Username\",\"Role.Roles\",\"Id\",\"SmallPhotoUrl\",\"FullPhotoUrl\"],\"sampleDetails\":{\"sortBy\":[],\"type\":\"TopN\"},\"dataset\":{\"name\":\"User4\",\"label\":\"User\",\"type\":\"analyticsDataset\"}}},\"EDIT_ATTRIBUTES5\":{\"sources\":[\"FORMULA1\"],\"action\":\"schema\",\"parameters\":{\"fields\":[{\"newProperties\":{\"name\":\"CreatedDate\",\"label\":\"CreatedDate\"},\"name\":\"CreatedDate\"}]}},\"LOAD_DATASET1\":{\"sources\":[],\"action\":\"load\",\"parameters\":{\"fields\":[\"Id\",\"WhoId\",\"WhatId\",\"Subject\",\"Location\",\"DurationInMinutes\",\"EndDateTime\",\"AccountId\",\"OwnerId\",\"ShowAs\",\"CreatedDate\",\"CreatedById\",\"LastModifiedDate\",\"EventSubtype\",\"ActivityDate\"],\"sampleDetails\":{\"sortBy\":[],\"type\":\"TopN\"},\"dataset\":{\"sourceObjectName\":\"Event\",\"label\":\"Event\",\"connectionName\":\"SFDC_LOCAL\",\"type\":\"connectedDataset\"}}},\"APPEND0\":{\"sources\":[\"EDIT_ATTRIBUTES6\",\"EDIT_ATTRIBUTES7\"],\"action\":\"appendV2\",\"parameters\":{\"fieldMappings\":[{\"top\":\"Id\",\"bottom\":\"Id\"},{\"top\":\"WhoId\",\"bottom\":\"WhoId\"},{\"top\":\"WhatId\",\"bottom\":\"WhatId\"},{\"top\":\"Subject\",\"bottom\":\"Subject\"},{\"top\":\"DurationInMinutes\",\"bottom\":\"CallDurationInSeconds\"},{\"top\":\"AccountId\",\"bottom\":\"AccountId\"},{\"top\":\"OwnerId\",\"bottom\":\"OwnerId\"},{\"top\":\"CreatedDate\",\"bottom\":\"CreatedDate\"},{\"top\":\"CreatedById\",\"bottom\":\"CreatedById\"},{\"top\":\"LastModifiedDate\",\"bottom\":\"LastModifiedDate\"},{\"top\":\"EventSubtype\",\"bottom\":\"EventSubtype\"},{\"top\":\"ActivityDate\",\"bottom\":\"ActivityDate\"},{\"top\":\"TaskSubtype\",\"bottom\":\"TaskSubtype\"},{\"bottom\":\"Status\"},{\"bottom\":\"Priority\"},{\"bottom\":\"IsClosed\"}]}},\"LOAD_DATASET0\":{\"sources\":[],\"action\":\"load\",\"parameters\":{\"fields\":[\"Id\",\"WhoId\",\"WhatId\",\"Subject\",\"ActivityDate\",\"Status\",\"Priority\",\"IsHighPriority\",\"OwnerId\",\"AccountId\",\"IsClosed\",\"CreatedDate\",\"CreatedById\",\"LastModifiedDate\",\"CallDurationInSeconds\",\"CallType\",\"CallDisposition\",\"CallObject\",\"TaskSubtype\"],\"sampleDetails\":{\"sortBy\":[],\"type\":\"TopN\"},\"dataset\":{\"sourceObjectName\":\"Task\",\"label\":\"Task\",\"connectionName\":\"SFDC_LOCAL\",\"type\":\"connectedDataset\"}}},\"EDIT_ATTRIBUTES7\":{\"sources\":[\"FORMULA0\"],\"action\":\"schema\",\"parameters\":{\"fields\":[{\"newProperties\":{\"name\":\"ActivityDate\",\"label\":\"ActivityDate\"},\"name\":\"ActivityDate\"}]}},\"EDIT_ATTRIBUTES6\":{\"sources\":[\"EDIT_ATTRIBUTES5\"],\"action\":\"schema\",\"parameters\":{\"fields\":[{\"newProperties\":{\"name\":\"ActivityDate\",\"label\":\"ActivityDate\"},\"name\":\"ActivityDate\"}]}},\"FORMULA0\":{\"sources\":[\"LOAD_DATASET0\"],\"action\":\"formula\",\"parameters\":{\"expressionType\":\"SQL\",\"fields\":[{\"formulaExpression\":\"TaskSubtype\",\"defaultValue\":\"\",\"precision\":255,\"name\":\"EventSubtype\",\"label\":\"Event Subtype\",\"type\":\"TEXT\"}]}},\"FORMULA1\":{\"sources\":[\"LOAD_DATASET1\"],\"action\":\"formula\",\"parameters\":{\"expressionType\":\"SQL\",\"fields\":[{\"formulaExpression\":\"EventSubtype\",\"defaultValue\":\"\",\"precision\":255,\"name\":\"TaskSubtype\",\"label\":\"Task Subtype\",\"type\":\"TEXT\"}]}},\"FORMULA2\":{\"sources\":[\"JOIN3\"],\"action\":\"formula\",\"parameters\":{\"expressionType\":\"SQL\",\"fields\":[{\"formulaExpression\":\"case \\n\\twhen \\\"Opp.IsClosed\\\" in ('false') and datediff(now(), to_date(ActivityDate, 'yyyy-MM-dd')) > 0\\n\\tthen 'true'\\n\\telse\\n\\t'false'\\nend\",\"defaultValue\":\"\",\"precision\":255,\"name\":\"IsOverdue\",\"label\":\"IsOverdue\",\"type\":\"TEXT\"}]}},\"FORMULA3\":{\"sources\":[\"FORMULA2\"],\"action\":\"formula\",\"parameters\":{\"expressionType\":\"SQL\",\"fields\":[{\"formulaExpression\":\"case \\n\\twhen IsOverdue in ('true')\\n\\tthen abs(datediff(now(),to_date(ActivityDate, 'yyyy-MM-dd')))\\n\\telse\\n\\t0\\nend\",\"defaultValue\":\"\",\"precision\":10,\"name\":\"DaysOverdue\",\"scale\":0,\"label\":\"DaysOverdue\",\"type\":\"NUMBER\"}]}},\"JOIN3\":{\"schema\":{\"slice\":{\"mode\":\"DROP\",\"ignoreMissingFields\":true,\"fields\":[\"Account.LastModifiedDate\",\"Account.BillingCity\",\"Account.OwnerId\",\"Account.Phone\",\"Account.AccountSource\",\"Account.Owner.Email\",\"Account.ShippingCountry\",\"Account.BillingPostalCode\",\"Account.ShippingCity\",\"Account.Owner.Username\",\"Account.LastViewedDate\",\"Account.ShippingStreet\",\"Account.Type\",\"Account.BillingCountry\",\"Account.BillingStreet\",\"Account.ShippingPostalCode\",\"Account.CreatedDate\",\"Account.ShippingState\",\"Account.Id\",\"Account.NumberOfEmployees\",\"Account.AnnualRevenue\"]},\"fields\":[]},\"sources\":[\"JOIN2\",\"LOAD_DATASET5\"],\"action\":\"join\",\"parameters\":{\"leftKeys\":[\"AccountId\"],\"rightQualifier\":\"Account\",\"rightKeys\":[\"Id\"],\"joinType\":\"LOOKUP\"}},\"FORMULA4\":{\"sources\":[\"FORMULA3\"],\"action\":\"formula\",\"parameters\":{\"expressionType\":\"SQL\",\"fields\":[{\"formulaExpression\":\"datediff(now(),\\\"Account.LastActivityDate\\\")\",\"defaultValue\":\"\",\"precision\":10,\"name\":\"DaysSinceLastActivity\",\"scale\":0,\"label\":\"Days Since Last Activity\",\"type\":\"NUMBER\"}]}},\"JOIN2\":{\"schema\":{\"slice\":{\"mode\":\"DROP\",\"ignoreMissingFields\":true,\"fields\":[\"Opp.LastModifiedDate\",\"Opp.HasOpportunityLineItem\",\"Opp.IsDeleted\"]},\"fields\":[]},\"sources\":[\"JOIN0\",\"LOAD_DATASET4\"],\"action\":\"join\",\"parameters\":{\"leftKeys\":[\"WhatId\"],\"rightQualifier\":\"Opp\",\"rightKeys\":[\"Id\"],\"joinType\":\"LOOKUP\"}}},\"ui\":{\"hiddenColumns\":[],\"connectors\":[{\"source\":\"JOIN0\",\"target\":\"JOIN2\"},{\"source\":\"LOAD_DATASET0\",\"target\":\"TRANSFORM0\"},{\"source\":\"LOAD_DATASET1\",\"target\":\"TRANSFORM1\"},{\"source\":\"TRANSFORM1\",\"target\":\"APPEND0\"},{\"source\":\"TRANSFORM0\",\"target\":\"APPEND0\"},{\"source\":\"APPEND0\",\"target\":\"JOIN0\"},{\"source\":\"LOAD_DATASET2\",\"target\":\"JOIN0\"},{\"source\":\"LOAD_DATASET4\",\"target\":\"JOIN2\"},{\"source\":\"JOIN3\",\"target\":\"TRANSFORM2\"},{\"source\":\"TRANSFORM2\",\"target\":\"OUTPUT0\"},{\"source\":\"JOIN2\",\"target\":\"JOIN3\"},{\"source\":\"LOAD_DATASET5\",\"target\":\"JOIN3\"}],\"nodes\":{\"JOIN0\":{\"top\":252,\"left\":532,\"description\":\"\",\"label\":\"Join Owner onto Activity\",\"type\":\"JOIN\"},\"LOAD_DATASET5\":{\"top\":672,\"left\":112.19999999999999,\"description\":\"\",\"label\":\"Load Account Dataset\",\"type\":\"LOAD_DATASET\",\"parameters\":{\"sampleSize\":2000}},\"LOAD_DATASET4\":{\"top\":532.1,\"left\":112.30000000000001,\"description\":\"\",\"label\":\"Load Opportunity Dataset\",\"type\":\"LOAD_DATASET\",\"parameters\":{\"sampleSize\":2000}},\"OUTPUT0\":{\"top\":252.2,\"left\":1092,\"description\":\"\",\"label\":\"Save Activity\",\"type\":\"OUTPUT\"},\"LOAD_DATASET2\":{\"top\":392,\"left\":112,\"description\":\"\",\"label\":\"User\",\"type\":\"LOAD_DATASET\",\"parameters\":{\"sampleSize\":2000}},\"LOAD_DATASET1\":{\"top\":252,\"left\":112,\"label\":\"Event\",\"type\":\"LOAD_DATASET\",\"parameters\":{\"sampleSize\":2000}},\"APPEND0\":{\"top\":252,\"left\":392,\"label\":\"Append\",\"type\":\"APPEND\"},\"LOAD_DATASET0\":{\"top\":112,\"left\":112,\"label\":\"Task\",\"type\":\"LOAD_DATASET\",\"parameters\":{\"sampleSize\":2000}},\"TRANSFORM0\":{\"connectors\":[{\"source\":\"FORMULA0\",\"target\":\"EDIT_ATTRIBUTES7\"}],\"top\":112,\"left\":252,\"label\":\"Transform\",\"type\":\"TRANSFORM\",\"graph\":{\"EDIT_ATTRIBUTES7\":null,\"FORMULA0\":{\"parameters\":{\"type\":\"BASE_FORMULA_UI\"}}}},\"TRANSFORM1\":{\"connectors\":[{\"source\":\"EDIT_ATTRIBUTES5\",\"target\":\"EDIT_ATTRIBUTES6\"},{\"source\":\"FORMULA1\",\"target\":\"EDIT_ATTRIBUTES5\"}],\"top\":252,\"left\":252,\"label\":\"Transform\",\"type\":\"TRANSFORM\",\"graph\":{\"EDIT_ATTRIBUTES5\":null,\"EDIT_ATTRIBUTES6\":null,\"FORMULA1\":{\"parameters\":{\"type\":\"BASE_FORMULA_UI\"}}}},\"JOIN3\":{\"top\":252.39999999999998,\"left\":812.1,\"description\":\"\",\"label\":\"Join Account onto Activity\",\"type\":\"JOIN\"},\"TRANSFORM2\":{\"connectors\":[{\"source\":\"FORMULA3\",\"target\":\"FORMULA4\"},{\"source\":\"FORMULA2\",\"target\":\"FORMULA3\"}],\"top\":252.3,\"left\":952.1,\"label\":\"Transform\",\"type\":\"TRANSFORM\",\"graph\":{\"FORMULA2\":{\"parameters\":{\"type\":\"BASE_FORMULA_UI\"}},\"FORMULA3\":{\"parameters\":{\"type\":\"BASE_FORMULA_UI\"}},\"FORMULA4\":{\"parameters\":{\"type\":\"BASE_FORMULA_UI\"}}}},\"JOIN2\":{\"top\":252.2,\"left\":672,\"description\":\"\",\"label\":\"Join Opportunity onto Activity\",\"type\":\"JOIN\"}}},\"version\":\"55.0\"}"]