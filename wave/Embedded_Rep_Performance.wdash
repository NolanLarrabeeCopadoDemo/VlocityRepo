{"dataSourceLinksInfo":{"enableAutomaticLinking":false,"excludeRelationships":[],"links":[{"fields":[{"dataSourceName":"MFG_TargetActuals","dataSourceNamespace":"","dataSourceType":"dataset","fieldName":"Order.Account.UniqueAccountName"},{"dataSourceName":"MFG_AccountManagerPeriodicTargetDistribution","dataSourceNamespace":"","dataSourceType":"dataset","fieldName":"AcctMgrTargetDstr.Account.UniqueAccountName"},{"dataSourceName":"MFG_Account4","dataSourceNamespace":"","dataSourceType":"dataset","fieldName":"UniqueAccountName"}],"label":"Account Name - Targets-Actuals-Account","name":"Link_2148"},{"fields":[{"dataSourceName":"MFG_AccountManagerPeriodicTargetDistribution","dataSourceNamespace":"","dataSourceType":"dataset","fieldName":"AcctMgrTarget.Parent.AcctMgrTargetDstr.Product.Name"},{"dataSourceName":"MFG_TargetActuals","dataSourceNamespace":"","dataSourceType":"dataset","fieldName":"Product.Name"}],"label":"Product Name - Target-Actuals","name":"Link_2033"},{"fields":[{"dataSourceName":"MFG_Users","dataSourceNamespace":"","dataSourceType":"dataset","fieldName":"Id"},{"dataSourceName":"MFG_AccountManagerPeriodicTargetDistribution","dataSourceNamespace":"","dataSourceType":"dataset","fieldName":"AssignedTo.Id"},{"dataSourceName":"MFG_TargetActuals","dataSourceNamespace":"","dataSourceType":"dataset","fieldName":"TargetActualsOwner.Managers"}],"label":"Logged In User - Users-Targets-Actuals","name":"Link_1414"}]},"filters":[{"dataset":{"name":"MFG_AccountManagerPeriodicTargetDistribution"},"dependent":true,"fields":["AcctMgrTarget.MeasureType"],"locked":false,"operator":"in","value":"[\"Currency\"]"}],"gridLayouts":[{"maxWidth":1500,"name":"Default","numColumns":40,"pages":[{"label":"Overview","name":"96fb1d7e-ae0d-4b51-bd1b-46fee7880e63","navigationHidden":false,"widgets":[{"colspan":18,"column":4,"name":"text_1","row":1,"rowspan":3,"widgetStyle":{"borderEdges":[]}},{"colspan":3,"column":1,"name":"image_1","row":1,"rowspan":3,"widgetStyle":{"borderEdges":[]}},{"colspan":35,"column":1,"name":"chart_1","row":6,"rowspan":22,"widgetStyle":{"borderEdges":[]}},{"colspan":5,"column":26,"name":"link_1","row":1,"rowspan":3,"widgetStyle":{"backgroundColor":"#335779","borderColor":"#E6ECF2","borderEdges":["all"],"borderRadius":0,"borderWidth":1}},{"colspan":5,"column":31,"name":"link_2","row":1,"rowspan":3,"widgetStyle":{"borderEdges":[]}},{"colspan":10,"column":26,"name":"container_1","row":1,"rowspan":3,"widgetStyle":{"backgroundColor":"rgba(255, 255, 255, 0)","borderColor":"#E6ECF2","borderEdges":["all"],"borderRadius":0,"borderWidth":1}},{"colspan":11,"column":24,"name":"image_2","row":31,"rowspan":2,"widgetStyle":{"borderEdges":[]}},{"colspan":9,"column":1,"name":"link_5","row":31,"rowspan":2,"widgetStyle":{"borderEdges":[]}}]},{"label":"PY View","name":"8ca0779c-06f2-4d31-bdc4-a2b945de36a9","navigationHidden":false,"widgets":[{"colspan":18,"column":4,"name":"text_1","row":1,"rowspan":3,"widgetStyle":{"borderEdges":[]}},{"colspan":3,"column":1,"name":"image_1","row":1,"rowspan":3,"widgetStyle":{"borderEdges":[]}},{"colspan":10,"column":26,"name":"container_1","row":1,"rowspan":3,"widgetStyle":{"backgroundColor":"rgba(255, 255, 255, 0)","borderColor":"#E6ECF2","borderEdges":["all"],"borderRadius":0,"borderWidth":1}},{"colspan":5,"column":31,"name":"link_3","row":1,"rowspan":3,"widgetStyle":{"backgroundColor":"#335779","borderColor":"#E6ECF2","borderEdges":["all"],"borderRadius":0,"borderWidth":1}},{"colspan":5,"column":26,"name":"link_4","row":1,"rowspan":3,"widgetStyle":{"borderEdges":[]}},{"colspan":35,"column":1,"name":"chart_2","row":9,"rowspan":22,"widgetStyle":{"borderEdges":[]}},{"colspan":24,"column":11,"name":"listselector_1","row":5,"rowspan":3,"widgetStyle":{"backgroundColor":"#FFFFFF","borderColor":"#E6ECF2","borderEdges":["all"],"borderRadius":4,"borderWidth":1}},{"colspan":10,"column":1,"name":"text_2","row":5,"rowspan":3,"widgetStyle":{"borderEdges":[]}},{"colspan":9,"column":1,"name":"link_5","row":31,"rowspan":2,"widgetStyle":{"borderEdges":[]}},{"colspan":11,"column":24,"name":"image_2","row":31,"rowspan":2,"widgetStyle":{"borderEdges":[]}}]}],"rowHeight":"fine","selectors":["minWidth(450)","maxWidth(520)"],"style":{"alignmentX":"left","alignmentY":"top","backgroundColor":"#FFFFFF","cellSpacingX":4,"cellSpacingY":0,"fit":"original","gutterColor":"#C5D3E0"},"version":1.0}],"layouts":[],"steps":{"AcctMgrTargetDstr_Pr_1":{"broadcastFacet":true,"datasets":[{"name":"MFG_AccountManagerPeriodicTargetDistribution"}],"isGlobal":false,"query":{"query":"{\"measures\":[[\"count\",\"*\"]],\"groups\":[\"AcctMgrTargetDstr.Product.Name\"]}","version":-1.0},"receiveFacetSource":{"mode":"all","steps":[]},"selectMode":"single","type":"aggregateflex","useGlobal":true,"visualizationParameters":{}},"Logged_In_User":{"broadcastFacet":false,"groups":[],"label":"Logged_In_User","numbers":[],"query":"q = load \"MFG_Users\";\nq = group q by 'Id';\nq = foreach q generate 'Id' as 'Id', first('Name') as 'Name', count() as 'count';\nq = order q by 'Id' asc;\nq = limit q 1;","receiveFacetSource":{"mode":"none","steps":[]},"selectMode":"singlerequired","strings":[],"type":"saql","useGlobal":false,"visualizationParameters":{"parameters":{"autoFitMode":"keepLabels","bins":{"breakpoints":{"high":100,"low":0},"bands":{"high":{"color":"#008000","label":""},"low":{"color":"#B22222","label":""},"medium":{"color":"#ffa500","label":""}}},"legend":{"descOrder":false,"showHeader":true,"show":true,"customSize":"auto","position":"right-top","inside":false},"axisMode":"multi","tooltip":{"content":{"legend":{"showBinLabel":true,"measures":[],"showNullValues":true,"customizeLegend":false,"showPercentage":true,"showDimensions":true,"showMeasures":true,"dimensions":[]}}},"visualizationType":"hbar","title":{"fontSize":14,"subtitleFontSize":11,"label":"","align":"center","subtitleLabel":""},"binValues":false,"trellis":{"flipLabels":false,"showGridLines":true,"size":[100,100],"enable":false,"type":"x","chartsPerLine":4},"showActionMenu":true,"measureAxis2":{"sqrtScale":false,"showTitle":true,"showAxis":true,"title":"","customDomain":{"showDomain":false}},"measureAxis1":{"sqrtScale":false,"showTitle":true,"showAxis":true,"title":"","customDomain":{"showDomain":false}},"valueType":"compactNumber","theme":"wave","compactDecimalDigits":-1,"dimensionAxis":{"showTitle":true,"customSize":"auto","showAxis":true,"title":"","icons":{"useIcons":false,"iconProps":{"fit":"cover","column":"","type":"round"}}},"applyConditionalFormatting":true},"type":"chart"}},"AcctMgrTarget_Name_1":{"broadcastFacet":false,"groups":[],"label":"AcctMgrTarget_Name_1","numbers":[],"query":"targets = load \"MFG_AccountManagerPeriodicTargetDistribution\";\n targets = filter targets by 'AcctMgrTarget.MeasureType' in [\"Currency\"]; targets = filter targets by 'AcctMgrTarget.Period.StartDate_sec_epoch'>= {{coalesce(cell( All_Periods_1.result,1, \"Period_min_sec_epoch\"),0).asObject()}};\n targets = filter targets by 'AcctMgrTarget.Period.EndDate_sec_epoch' <= {{coalesce(cell( All_Periods_1.result,1, \"Period_max_sec_epoch\"),0).asObject()}};\n targets = filter targets by {{column(Logged_In_User.result, [\"Id\"]).asEquality(\"AssignedTo.Id\")}};\n targets = group targets by ('AcctMgrTarget.Name', 'AcctMgrTargetId');\n targets = foreach targets generate 'AcctMgrTarget.Name' as 'AcctMgrTarget.Name', 'AcctMgrTargetId' as 'AcctMgrTargetId', count() as 'count';\n targets = order targets by 'AcctMgrTarget.Name' asc;","receiveFacetSource":{"mode":"none","steps":[]},"selectMode":"multirequired","strings":[],"type":"saql","useGlobal":false,"visualizationParameters":{"parameters":{"autoFitMode":"keepLabels","bins":{"breakpoints":{"high":100,"low":0},"bands":{"high":{"color":"#008000","label":""},"low":{"color":"#B22222","label":""},"medium":{"color":"#ffa500","label":""}}},"legend":{"descOrder":false,"showHeader":true,"show":true,"customSize":"auto","position":"right-top","inside":false},"axisMode":"multi","tooltip":{"content":{"legend":{"showBinLabel":true,"measures":[],"showNullValues":true,"customizeLegend":false,"showPercentage":true,"showDimensions":true,"showMeasures":true,"dimensions":[]}}},"visualizationType":"hbar","title":{"fontSize":14,"subtitleFontSize":11,"label":"","align":"center","subtitleLabel":""},"binValues":false,"trellis":{"flipLabels":false,"showGridLines":true,"size":[100,100],"enable":false,"type":"x","chartsPerLine":4},"showActionMenu":true,"measureAxis2":{"sqrtScale":false,"showTitle":true,"showAxis":true,"title":"","customDomain":{"showDomain":false}},"measureAxis1":{"sqrtScale":false,"showTitle":true,"showAxis":true,"title":"","customDomain":{"showDomain":false}},"valueType":"compactNumber","theme":"wave","compactDecimalDigits":-1,"dimensionAxis":{"showTitle":true,"customSize":"auto","showAxis":true,"title":"","icons":{"useIcons":false,"iconProps":{"fit":"cover","column":"","type":"round"}}},"applyConditionalFormatting":true},"type":"chart"}},"Show_LY_Toggle_1":{"broadcastFacet":false,"columns":{"Display":{"type":"string"}},"label":"Show_LY_Toggle","selectMode":"singlerequired","start":"{\"Display\":[\"OFF\"]}","type":"staticflex","values":["{\"Display\":\"ON\",\"LY_Actuals_Generate\":\", (case when \\\"{{cell(Show_LY_Toggle_1.selection, 0, \\\"Display\\\").asObject()}}\\\" == \\\"ON\\\" then {{cell(Attainment_KPI_for_LY.result, 0, \\\"Target_Actuals\\\").asObject()}} end) as 'LY_Target_Actuals'\"}","{\"Display\":\"OFF\",\"LY_Actuals_Generate\":\"\"}"]},"static_1":{"broadcastFacet":true,"columns":{"Display":{"type":"string"}},"label":"","selectMode":"single","type":"staticflex","values":["{\"Display\":\"CY\"}"]},"selected_target_1":{"broadcastFacet":true,"groups":[],"label":"selected target","numbers":[],"query":"q = load \"MFG_AccountManagerPeriodicTargetDistribution\";\nq = filter q by 'AcctMgrTargetDstrId' is null;\nresult = group q by 'AcctMgrTargetId';\nresult = foreach result generate q.'AcctMgrTargetId' as 'AcctMgrTargetId', first(q.'AcctMgrTarget.Period.StartDate') as 'StartDate', first(q.'AcctMgrTarget.Period.EndDate') as 'EndDate', first(q.'AcctMgrTarget.Period.StartDate_sec_epoch') as 'Period_min_sec_epoch', first(q.'AcctMgrTarget.Period.EndDate_sec_epoch') as 'Period_max_sec_epoch';\nresult = order result by ('AcctMgrTargetId' asc);\nresult = limit result 1;","receiveFacetSource":{"mode":"all","steps":[]},"selectMode":"single","strings":[],"type":"saql","useGlobal":true,"visualizationParameters":{"parameters":{"borderColor":"#e0e5ee","borderWidth":1,"cell":{"backgroundColor":"#ffffff","fontColor":"#16325c","fontSize":12},"columnProperties":{},"columns":[],"customBulkActions":[],"header":{"backgroundColor":"#f4f6f9","fontColor":"#16325c","fontSize":12},"innerMajorBorderColor":"#a8b7c7","innerMinorBorderColor":"#e0e5ee","interactions":[],"mode":"fittocontainer","numberOfLines":1,"pivoted":false,"showActionMenu":true,"showRowIndexColumn":false,"totals":true,"verticalPadding":8},"type":"table"}},"Targets_Vs_Actuals_f_2":{"broadcastFacet":false,"groups":[],"label":"Targets Vs Actuals for each Team Member","numbers":[],"query":"targets = load \"MFG_AccountManagerPeriodicTargetDistribution\";\n targets = filter targets by 'AcctMgrTarget.MeasureType' in [\"Currency\"];\n targets = filter targets by 'AcctMgrTarget.Period.StartDate_sec_epoch'>= {{coalesce(cell( All_Periods_1.result,1, \"Period_min_sec_epoch\"),0).asObject()}};\n targets = filter targets by 'AcctMgrTarget.Period.EndDate_sec_epoch' <= {{coalesce(cell( All_Periods_1.result,1, \"Period_max_sec_epoch\"),0).asObject()}};\n targets = filter targets by 'AcctMgrTargetDstrId' is null; \ntargets = filter targets by {{column(Logged_In_User.result, [\"Id\"]).asEquality(\"AssignedTo.Managers\")}} && ({{column(Logged_In_User.result, [\"Id\"]).asEquality(\"AssignedTo.ManagerId\")}} || {{column(Logged_In_User.result, [\"Id\"]).asEquality(\"AssignedTo.ForecastRole.ParentRole.ForecastUserId\")}}); \ntargets = filter targets by !({{column(Logged_In_User.result, [\"Id\"]).asEquality(\"AssignedTo.Id\")}}); \ntargets = filter targets by {{column(AcctMgrTarget_Name_1.selection, [\"AcctMgrTargetId\"]).asEquality(\"ParentTargetIds\")}}; \nactuals = load \"MFG_TargetActuals\"; \nactuals = filter actuals by 'Order.StatusCode' == \"Activated\"; actuals = filter actuals by 'Order.EffectiveDate_sec_epoch' <= {{coalesce(cell( All_Periods_1.result,1, \"Period_max_sec_epoch\"),0).asObject()}}; \nactuals = filter actuals by 'Order.EffectiveDate_sec_epoch' >= {{coalesce(cell( All_Periods_1.result,1, \"Period_min_sec_epoch\"),0).asObject()}}; \nactuals = filter actuals by !({{column(Logged_In_User.result, [\"Id\"]).asEquality(\"TargetActualsOwner.Id\")}});\nresult = group targets by 'AssignedTo.Id' left, actuals by 'TargetActualsOwner.Managers';\nresult = foreach result generate targets.'AssignedTo.Id' as 'AssignedTo.Id', first(targets.'AssignedTo.Name') as 'AssignedTo.Name', sum(targets.'PeriodTargetCurrencyValue') as 'PeriodTargetCurrencyValue', sum(actuals.'TotalPrice') as 'TotalPrice';\nresult = group result by 'AssignedTo.Id';\nresult = foreach result generate 'AssignedTo.Id' as 'AssignedTo.Id', first('AssignedTo.Name') as 'AssignedTo.Name', sum('PeriodTargetCurrencyValue') as 'Target', sum('TotalPrice') as 'Actuals';\n result = order result by ('Target' desc, 'Actuals' desc); ","receiveFacetSource":{"mode":"none","steps":[]},"selectMode":"single","start":"[]","strings":[],"type":"saql","useGlobal":false,"visualizationParameters":{"parameters":{"autoFitMode":"keepLabels","bins":{"breakpoints":{"high":100,"low":0},"bands":{"high":{"color":"#008000","label":""},"low":{"color":"#B22222","label":""},"medium":{"color":"#ffa500","label":""}}},"legend":{"descOrder":false,"showHeader":true,"show":true,"customSize":"auto","position":"right-top","inside":false},"axisMode":"multi","tooltip":{"content":{"legend":{"showBinLabel":true,"measures":[],"showNullValues":true,"customizeLegend":false,"showPercentage":true,"showDimensions":true,"showMeasures":true,"dimensions":[]}}},"visualizationType":"hbar","title":{"fontSize":14,"subtitleFontSize":11,"label":"","align":"center","subtitleLabel":""},"binValues":false,"trellis":{"flipLabels":false,"showGridLines":true,"size":[100,100],"enable":false,"type":"x","chartsPerLine":4},"columnMap":{"trellis":[],"dimensionAxis":["AssignedTo.Name"],"plots":["Target","Actuals"]},"showActionMenu":true,"measureAxis2":{"sqrtScale":false,"showTitle":true,"showAxis":true,"title":"","customDomain":{"showDomain":false}},"measureAxis1":{"sqrtScale":false,"showTitle":true,"showAxis":true,"title":"","customDomain":{"showDomain":false}},"valueType":"compactNumber","theme":"wave","compactDecimalDigits":-1,"dimensionAxis":{"showTitle":true,"customSize":"auto","showAxis":true,"title":"","icons":{"useIcons":false,"iconProps":{"fit":"cover","column":"","type":"round"}}},"applyConditionalFormatting":true},"type":"chart"}},"All_Periods_1":{"broadcastFacet":false,"groups":[],"label":"All_Periods_Dates","numbers":[],"query":"periods = load \"MFG_Period\";\nperiods = group periods by 'FullyQualifiedLabel';\n\ntargets = load \"MFG_AccountManagerPeriodicTargetDistribution\";\n targets = filter targets by 'AcctMgrTarget.Period.StartDate_sec_epoch'>= {{coalesce(cell( selected_target_1.result,0, \"Period_min_sec_epoch\"),0).asObject()}};\n targets = filter targets by 'AcctMgrTarget.Period.EndDate_sec_epoch' <= {{coalesce(cell( selected_target_1.result,0, \"Period_max_sec_epoch\"),0).asObject()}};\n targets = filter targets by 'AcctMgrTargetDstrId' is null;\nperiods_targets = cogroup periods by 'FullyQualifiedLabel', targets by 'AcctMgrTarget.Period.FullyQualifiedLabel';\nperiods_targets = foreach periods_targets generate coalesce(periods.'FullyQualifiedLabel', targets.'AcctMgrTarget.Period.FullyQualifiedLabel') as 'FullyQualifiedLabel', min(periods.'StartDate_sec_epoch') as 'Period_min_sec_epoch', max(periods.'EndDate_sec_epoch') as 'Period_max_sec_epoch', toDate(min(periods.'StartDate_sec_epoch')) as 'Period_Min', toDate(max(periods.'EndDate_sec_epoch')) as 'Period_Max';\nperiods_targets = order periods_targets by 'Period_min_sec_epoch' desc;\n\ntargets_ly = foreach periods_targets generate (case \nwhen starts_with(FullyQualifiedLabel, \"FY\") then \"FY \"+number_to_string(string_to_number(ltrim(FullyQualifiedLabel,\"FY \"))-1,\"#\")\nelse FullyQualifiedLabel\nend) as FullyQualifiedLabel;\nperiods_targets_ly = cogroup periods by 'FullyQualifiedLabel', targets_ly by 'FullyQualifiedLabel';\nperiods_targets_ly = foreach periods_targets_ly generate coalesce(periods.'FullyQualifiedLabel', targets_ly.'FullyQualifiedLabel') as 'FullyQualifiedLabel', min(periods.'StartDate_sec_epoch') as 'Period_min_sec_epoch', max(periods.'EndDate_sec_epoch') as 'Period_max_sec_epoch', toDate(min(periods.'StartDate_sec_epoch')) as 'Period_Min', toDate(max(periods.'EndDate_sec_epoch')) as 'Period_Max';\n\n\ntargets_lly = foreach periods_targets generate (case \nwhen starts_with(FullyQualifiedLabel, \"FY\") then \"FY \"+number_to_string(string_to_number(ltrim(FullyQualifiedLabel,\"FY \"))-2,\"#\")\nelse FullyQualifiedLabel\nend) as FullyQualifiedLabel;\nperiods_targets_lly = cogroup periods by 'FullyQualifiedLabel', targets_lly by 'FullyQualifiedLabel';\nperiods_targets_lly = foreach periods_targets_lly generate coalesce(periods.'FullyQualifiedLabel', targets_lly.'FullyQualifiedLabel') as 'FullyQualifiedLabel', min(periods.'StartDate_sec_epoch') as 'Period_min_sec_epoch', max(periods.'EndDate_sec_epoch') as 'Period_max_sec_epoch', toDate(min(periods.'StartDate_sec_epoch')) as 'Period_Min', toDate(max(periods.'EndDate_sec_epoch')) as 'Period_Max';\n\nperiods_targets_for_selected_till_last_2_periods = union periods_targets, periods_targets_ly, periods_targets_lly;","receiveFacetSource":{"mode":"none","steps":[]},"selectMode":"single","start":"[]","strings":[],"type":"saql","useGlobal":false,"visualizationParameters":{"parameters":{"borderColor":"#e0e5ee","borderWidth":1,"cell":{"backgroundColor":"#ffffff","fontColor":"#16325c","fontSize":12},"columnProperties":{},"columns":[],"customBulkActions":[],"header":{"backgroundColor":"#f4f6f9","fontColor":"#16325c","fontSize":12},"innerMajorBorderColor":"#a8b7c7","innerMinorBorderColor":"#e0e5ee","interactions":[],"maxColumnWidth":300,"minColumnWidth":40,"mode":"variable","numberOfLines":1,"pivoted":false,"showActionMenu":true,"verticalPadding":8},"type":"table"}},"delete_1_1":{"broadcastFacet":true,"datasets":[{"name":"MFG_Period"}],"isGlobal":false,"label":"delete_1","query":{"query":"{\"measures\":[[\"count\",\"*\"]]}","version":-1.0},"receiveFacetSource":{"mode":"all","steps":[]},"selectMode":"single","type":"aggregateflex","useGlobal":true,"visualizationParameters":{"parameters":{"autoFitMode":"keepLabels","bins":{"breakpoints":{"high":100,"low":0},"bands":{"high":{"color":"#008000","label":""},"low":{"color":"#B22222","label":""},"medium":{"color":"#ffa500","label":""}}},"legend":{"descOrder":false,"showHeader":true,"show":true,"customSize":"auto","position":"right-top","inside":false},"axisMode":"multi","tooltip":{"content":{"legend":{"showBinLabel":true,"measures":[],"showNullValues":true,"customizeLegend":false,"showPercentage":true,"showDimensions":true,"showMeasures":true,"dimensions":[]}}},"visualizationType":"hbar","title":{"fontSize":14,"subtitleFontSize":11,"label":"","align":"center","subtitleLabel":""},"binValues":false,"trellis":{"flipLabels":false,"showGridLines":true,"size":[100,100],"enable":false,"type":"x","chartsPerLine":4},"columnMap":{"trellis":[],"dimensionAxis":[],"plots":["count"]},"showActionMenu":true,"measureAxis2":{"sqrtScale":false,"showTitle":true,"showAxis":true,"title":"","customDomain":{"showDomain":false}},"measureAxis1":{"sqrtScale":false,"showTitle":true,"showAxis":true,"title":"","customDomain":{"showDomain":false}},"valueType":"compactNumber","theme":"wave","compactDecimalDigits":-1,"dimensionAxis":{"showTitle":true,"customSize":"auto","showAxis":true,"title":"","icons":{"useIcons":false,"iconProps":{"fit":"cover","column":"","type":"round"}}},"applyConditionalFormatting":true},"type":"chart"}},"Targets_Vs_Actuals_f_1":{"broadcastFacet":true,"groups":[],"label":"Targets Vs Actuals for each Team Member","numbers":[],"query":"targets = load \"MFG_AccountManagerPeriodicTargetDistribution\"; \ntargets = filter targets by 'AcctMgrTarget.Period.StartDate_sec_epoch'>= {{coalesce(cell( selected_target_1.result,0, \"Period_min_sec_epoch\"),0).asObject()}}; \ntargets = filter targets by 'AcctMgrTarget.Period.EndDate_sec_epoch' <= {{coalesce(cell( selected_target_1.result,0, \"Period_max_sec_epoch\"),0).asObject()}}; \ntargets = filter targets by 'AcctMgrTargetDstrId' is null; \ntargets = filter targets by {{column(Logged_In_User.result, [\"Id\"]).asEquality(\"AssignedTo.Managers\")}} && ({{column(Logged_In_User.result, [\"Id\"]).asEquality(\"AssignedTo.ManagerId\")}} || {{column(Logged_In_User.result, [\"Id\"]).asEquality(\"AssignedTo.ForecastRole.ParentRole.ForecastUserId\")}}); \ntargets = filter targets by !({{column(Logged_In_User.result, [\"Id\"]).asEquality(\"AssignedTo.Id\")}}); \ntargets = filter targets by {{column(selected_target_1.result, [\"AcctMgrTargetId\"]).asEquality(\"ParentTargetIds\")}}; \nactuals = load \"MFG_TargetActuals\"; \nactuals = filter actuals by 'Order.StatusCode' == \"Activated\"; actuals = filter actuals by 'Order.EffectiveDate_sec_epoch' <= {{coalesce(cell( selected_target_1.result,0, \"Period_max_sec_epoch\"),0).asObject()}}; \nactuals = filter actuals by 'Order.EffectiveDate_sec_epoch' >= {{coalesce(cell( selected_target_1.result,0, \"Period_min_sec_epoch\"),0).asObject()}}; \nactuals = filter actuals by !({{column(Logged_In_User.result, [\"Id\"]).asEquality(\"TargetActualsOwner.Id\")}});\nresult = group targets by 'AssignedTo.Id' left, actuals by 'TargetActualsOwner.Managers';\nresult = foreach result generate targets.'AssignedTo.Id' as 'AssignedTo.Id', first(targets.'AssignedTo.Name') as 'AssignedTo.Name', sum(targets.'PeriodTargetCurrencyValue') as 'PeriodTargetCurrencyValue', sum(actuals.'TotalPrice') as 'TotalPrice';\nresult = group result by 'AssignedTo.Id';\nresult = foreach result generate 'AssignedTo.Id' as 'AssignedTo.Id', first('AssignedTo.Name') as 'AssignedTo.Name', sum('PeriodTargetCurrencyValue') as 'Target', sum('TotalPrice') as 'Actuals';\n result = order result by ('Target' desc, 'Actuals' desc);","receiveFacetSource":{"mode":"none","steps":[]},"selectMode":"single","start":"[]","strings":[],"type":"saql","useGlobal":true,"visualizationParameters":{"parameters":{"autoFitMode":"keepLabels","bins":{"breakpoints":{"high":100,"low":0},"bands":{"high":{"color":"#008000","label":""},"low":{"color":"#B22222","label":""},"medium":{"color":"#ffa500","label":""}}},"legend":{"descOrder":false,"showHeader":true,"show":true,"customSize":"auto","position":"right-top","inside":false},"axisMode":"multi","tooltip":{"content":{"legend":{"showBinLabel":true,"measures":[],"showNullValues":true,"customizeLegend":false,"showPercentage":true,"showDimensions":true,"showMeasures":true,"dimensions":[]}}},"visualizationType":"hbar","title":{"fontSize":14,"subtitleFontSize":11,"label":"","align":"center","subtitleLabel":""},"binValues":false,"trellis":{"flipLabels":false,"showGridLines":true,"size":[100,100],"enable":false,"type":"x","chartsPerLine":4},"columnMap":{"trellis":[],"dimensionAxis":["AssignedTo.Name"],"plots":["Target","Actuals"]},"showActionMenu":true,"measureAxis2":{"sqrtScale":false,"showTitle":true,"showAxis":true,"title":"","customDomain":{"showDomain":false}},"measureAxis1":{"sqrtScale":false,"showTitle":true,"showAxis":true,"title":"","customDomain":{"showDomain":false}},"valueType":"compactNumber","theme":"wave","compactDecimalDigits":-1,"dimensionAxis":{"showTitle":true,"customSize":"auto","showAxis":true,"title":"","icons":{"useIcons":false,"iconProps":{"fit":"cover","column":"","type":"round"}}},"applyConditionalFormatting":true},"type":"chart"}}},"widgetStyle":{"backgroundColor":"rgba(255, 255, 255, 0)","borderColor":"#E6ECF2","borderEdges":[],"borderRadius":0,"borderWidth":1},"widgets":{"text_18":{"parameters":{"content":{"richTextContent":[{"attributes":{"size":"12px","color":"#FFFFFF","align":"center"},"insert":"Choose KPI:"}]},"interactions":[],"showActionMenu":true},"type":"text"},"text_1":{"parameters":{"content":{"richTextContent":[{"attributes":{"size":"18px","color":"#091A3E","align":"left"},"insert":"Rep Performance"}]},"interactions":[],"showActionMenu":false},"type":"text"},"text_19":{"parameters":{"content":{"richTextContent":[{"attributes":{"size":"12px","color":"#FFFFFF","align":"center"},"insert":"Group by:"}]},"interactions":[],"showActionMenu":true},"type":"text"},"link_3":{"parameters":{"destinationLink":{"name":"8ca0779c-06f2-4d31-bdc4-a2b945de36a9"},"destinationType":"page","fontSize":16,"includeState":false,"text":"PY","textAlignment":"center","textColor":"#FFFFFF"},"type":"link"},"link_4":{"parameters":{"destinationLink":{"name":"96fb1d7e-ae0d-4b51-bd1b-46fee7880e63"},"destinationType":"page","fontSize":16,"includeState":false,"text":"TY","textAlignment":"center","textColor":"#0070D2"},"type":"link"},"link_1":{"parameters":{"destinationLink":{"name":"96fb1d7e-ae0d-4b51-bd1b-46fee7880e63"},"destinationType":"page","fontSize":16,"includeState":false,"text":"TY","textAlignment":"center","textColor":"#FFFFFF"},"type":"link"},"link_2":{"parameters":{"destinationLink":{"name":"8ca0779c-06f2-4d31-bdc4-a2b945de36a9"},"destinationType":"page","fontSize":16,"includeState":false,"text":"PY","textAlignment":"center","textColor":"#0070D2"},"type":"link"},"container_1":{"parameters":{"alignmentX":"left","alignmentY":"top","fit":"original","interactions":[]},"type":"container"},"link_5":{"parameters":{"destinationLink":{"name":"Target_Leaderboard_w_Forecasts","namespace":""},"destinationType":"dashboard","fontSize":10,"includeState":false,"text":"VIEW DASHBOARD","textAlignment":"center","textColor":"rgb(0, 109, 204)"},"type":"link"},"image_1":{"parameters":{"alignmentX":"left","alignmentY":"top","fit":"original","image":{"name":"IconGrouppng21","namespace":""},"interactions":[]},"type":"image"},"text_2":{"parameters":{"content":{"richTextContent":[{"attributes":{"size":"14px","color":"#091A3E","align":"left"},"insert":"Target Name"}]},"interactions":[],"showActionMenu":false},"type":"text"},"listselector_1":{"parameters":{"compact":false,"displayMode":"filter","exploreLink":false,"filterStyle":{"titleColor":"#54698D","valueColor":"#16325C"},"instant":false,"measureField":"count","showActionMenu":true,"step":"AcctMgrTarget_Name_1","title":""},"type":"listselector"},"image_2":{"parameters":{"alignmentX":"center","alignmentY":"center","fit":"fitwidth","image":{"name":"Powered_by_analytics_bannerpng7","namespace":""},"interactions":[]},"type":"image"},"chart_2":{"parameters":{"autoFitMode":"none","bins":{"breakpoints":{"high":100,"low":0},"bands":{"high":{"color":"#008000","label":""},"low":{"color":"#B22222","label":""},"medium":{"color":"#ffa500","label":""}}},"legend":{"descOrder":false,"showHeader":true,"show":true,"customSize":"auto","position":"bottom-center","inside":false},"axisMode":"sync","tooltip":{"content":{"legend":{"showBinLabel":true,"measures":[],"showNullValues":true,"customizeLegend":false,"showPercentage":true,"showDimensions":true,"showMeasures":true,"dimensions":[]}}},"visualizationType":"hbar","exploreLink":true,"title":{"fontSize":14,"subtitleFontSize":11,"label":"","align":"center","subtitleLabel":""},"binValues":false,"trellis":{"flipLabels":false,"showGridLines":true,"size":[100,100],"enable":false,"type":"x","parameters":{},"chartsPerLine":4},"columnMap":{"trellis":[],"dimensionAxis":["AssignedTo.Name"],"plots":["Target","Actuals"]},"showActionMenu":true,"measureAxis2":{"sqrtScale":false,"showTitle":true,"showAxis":true,"title":"","customDomain":{"showDomain":false}},"measureAxis1":{"sqrtScale":false,"showTitle":true,"showAxis":true,"title":"","customDomain":{"showDomain":false}},"valueType":"compactNumber","theme":"light","step":"Targets_Vs_Actuals_f_2","compactDecimalDigits":-1,"dimensionAxis":{"showTitle":true,"customSize":"auto","showAxis":true,"title":"","icons":{"useIcons":false,"iconProps":{"fit":"cover","column":"","type":"round","parameters":{}}}},"applyConditionalFormatting":true},"type":"chart"},"chart_1":{"parameters":{"autoFitMode":"none","bins":{"breakpoints":{"high":100,"low":0},"bands":{"high":{"color":"#008000","label":""},"low":{"color":"#B22222","label":""},"medium":{"color":"#ffa500","label":""}}},"legend":{"descOrder":false,"showHeader":true,"show":true,"customSize":"auto","position":"bottom-center","inside":false},"axisMode":"sync","tooltip":{"content":{"legend":{"showBinLabel":true,"measures":[],"showNullValues":true,"customizeLegend":false,"showPercentage":true,"showDimensions":true,"showMeasures":true,"dimensions":[]}}},"visualizationType":"hbar","exploreLink":true,"title":{"fontSize":14,"subtitleFontSize":11,"label":"","align":"center","subtitleLabel":""},"binValues":false,"trellis":{"flipLabels":false,"showGridLines":true,"size":[100,100],"enable":false,"type":"x","parameters":{},"chartsPerLine":4},"columnMap":{"trellis":[],"dimensionAxis":["AssignedTo.Name"],"plots":["Target","Actuals"]},"showActionMenu":true,"measureAxis2":{"sqrtScale":false,"showTitle":true,"showAxis":true,"title":"","customDomain":{"showDomain":false}},"measureAxis1":{"sqrtScale":false,"showTitle":true,"showAxis":true,"title":"","customDomain":{"showDomain":false}},"valueType":"compactNumber","theme":"light","step":"Targets_Vs_Actuals_f_1","compactDecimalDigits":-1,"dimensionAxis":{"showTitle":true,"customSize":"auto","showAxis":true,"title":"","icons":{"useIcons":false,"iconProps":{"fit":"cover","column":"","type":"round","parameters":{}}}},"applyConditionalFormatting":true},"type":"chart"}}}