{"dataSourceLinksInfo":{"enableAutomaticLinking":false,"excludeRelationships":[],"links":[]},"filters":[],"gridLayouts":[{"name":"Default","numColumns":40,"pages":[{"label":"Product Performance","name":"7668b516-7370-4c90-bbbb-d1ea11095d53","navigationHidden":false,"widgets":[{"colspan":40,"column":0,"name":"container_1","row":0,"rowspan":29,"widgetStyle":{"backgroundColor":"#FFFFFF","borderColor":"#E6ECF2","borderEdges":["all"],"borderRadius":0,"borderWidth":1}},{"colspan":18,"column":0,"name":"text_1","row":0,"rowspan":4,"widgetStyle":{"borderEdges":[]}},{"colspan":30,"column":5,"name":"chart_1","row":5,"rowspan":19,"widgetStyle":{"borderEdges":[]}},{"colspan":40,"column":0,"name":"container_2","row":29,"rowspan":4,"widgetStyle":{"backgroundColor":"#FFFFFF","borderColor":"#E6ECF2","borderEdges":["all"],"borderRadius":0,"borderWidth":1}},{"colspan":15,"column":0,"name":"link_3","row":29,"rowspan":4,"widgetStyle":{"borderEdges":[]}},{"colspan":11,"column":26,"name":"link_1","row":26,"rowspan":2,"widgetStyle":{"borderEdges":[]}}]},{"label":"Price Elasticity","name":"5ade52d1-e83c-4cb4-b62b-a3f2ebae1472","navigationHidden":false,"widgets":[{"colspan":40,"column":0,"name":"container_1","row":0,"rowspan":4,"widgetStyle":{"backgroundColor":"#FFFFFF","borderColor":"#E6ECF2","borderEdges":["all"],"borderRadius":0,"borderWidth":1}},{"colspan":40,"column":0,"name":"container_2","row":4,"rowspan":31,"widgetStyle":{"backgroundColor":"#FFFFFF","borderColor":"#E6ECF2","borderEdges":["all"],"borderRadius":0,"borderWidth":1}},{"colspan":19,"column":0,"name":"text_2","row":4,"rowspan":4,"widgetStyle":{"borderEdges":[]}},{"colspan":19,"column":0,"name":"link_4","row":0,"rowspan":4,"widgetStyle":{"borderEdges":[]}},{"colspan":34,"column":2,"name":"listselector_1","row":10,"rowspan":4,"widgetStyle":{"backgroundColor":"#FFFFFF","borderColor":"#E6ECF2","borderEdges":[],"borderRadius":0,"borderWidth":1}},{"colspan":34,"column":2,"name":"chart_2","row":14,"rowspan":17,"widgetStyle":{"borderEdges":[]}},{"colspan":14,"column":2,"name":"text_3","row":8,"rowspan":2,"widgetStyle":{"borderEdges":[]}},{"colspan":10,"column":26,"name":"link_2","row":31,"rowspan":2,"widgetStyle":{"borderEdges":[]}}]}],"rowHeight":"fine","selectors":["minWidth(450)","maxWidth(520)"],"style":{"alignmentX":"left","alignmentY":"top","backgroundColor":"#F2F6FA","cellSpacingX":4,"cellSpacingY":0,"fit":"original","gutterColor":"#C5D3E0"},"version":1.0}],"layouts":[],"steps":{"Product_Selection_1":{"broadcastFacet":true,"groups":[],"label":"Product Selection","numbers":[],"query":"q = load \"MFG_SalesAgreementProductSchedule\";q = filter q by 'SalesAgreementProduct.SalesAgreementId' == \"{{coalesce(cell(Selected_Sales_Agree_1.result,0,\"SalesAgreementProduct.SalesAgreementId\"),0).asObject()}}\";\nq = group q by 'SalesAgreementProduct.Name';\nq = foreach q generate 'SalesAgreementProduct.Name' as 'SalesAgreementProduct.Name', count() as 'count';\nq = order q by 'SalesAgreementProduct.Name' asc;\nq = limit q 2500;","receiveFacetSource":{"mode":"all","steps":[]},"selectMode":"singlerequired","strings":[],"type":"saql","useGlobal":true,"visualizationParameters":{"parameters":{"autoFitMode":"keepLabels","bins":{"breakpoints":{"high":100,"low":0},"bands":{"high":{"color":"#008000","label":""},"low":{"color":"#B22222","label":""},"medium":{"color":"#ffa500","label":""}}},"legend":{"descOrder":false,"showHeader":true,"show":true,"customSize":"auto","position":"right-top","inside":false},"axisMode":"multi","tooltip":{"content":{"legend":{"showBinLabel":true,"measures":[],"showNullValues":true,"customizeLegend":false,"showPercentage":true,"showDimensions":true,"showMeasures":true,"dimensions":[]}}},"visualizationType":"hbar","title":{"fontSize":14,"subtitleFontSize":11,"label":"","align":"center","subtitleLabel":""},"binValues":false,"trellis":{"flipLabels":false,"showGridLines":true,"size":[100,100],"enable":false,"type":"x","chartsPerLine":4},"showActionMenu":true,"measureAxis2":{"sqrtScale":false,"showTitle":true,"showAxis":true,"title":"","customDomain":{"showDomain":false}},"measureAxis1":{"sqrtScale":false,"showTitle":true,"showAxis":true,"title":"","customDomain":{"showDomain":false}},"valueType":"compactNumber","theme":"wave","compactDecimalDigits":-1,"dimensionAxis":{"showTitle":true,"customSize":"auto","showAxis":true,"title":"","icons":{"useIcons":false,"iconProps":{"fit":"cover","column":"","type":"round"}}},"applyConditionalFormatting":true},"type":"chart"}},"Selected_Sales_Agree_1":{"broadcastFacet":true,"groups":[],"label":"Selected Sales Agreement","numbers":[],"query":"q = load \"MFG_SalesAgreementProductSchedule\";\nq = group q by 'SalesAgreementProduct.SalesAgreementId';\nq = foreach q generate 'SalesAgreementProduct.SalesAgreementId' as 'SalesAgreementProduct.SalesAgreementId', max('SalesAgreementProduct.SalesAgreement.EndDate_sec_epoch') as 'End Date', max('SalesAgreementProduct.SalesAgreement.StartDate_sec_epoch') as 'Start Date', count() as 'count';\nq = limit q 1;","receiveFacetSource":{"mode":"all","steps":[]},"selectMode":"single","strings":[],"type":"saql","useGlobal":true,"visualizationParameters":{"parameters":{"borderColor":"#e0e5ee","borderWidth":1,"cell":{"backgroundColor":"#ffffff","fontColor":"#16325c","fontSize":12},"columnProperties":{},"columns":[],"customBulkActions":[],"header":{"backgroundColor":"#f4f6f9","fontColor":"#16325c","fontSize":12},"innerMajorBorderColor":"#a8b7c7","innerMinorBorderColor":"#e0e5ee","interactions":[],"maxColumnWidth":300,"minColumnWidth":40,"mode":"variable","numberOfLines":1,"showActionMenu":true,"showRowIndexColumn":true,"verticalPadding":8},"type":"table"}},"Price_Elasticity_1":{"broadcastFacet":false,"groups":[],"label":"Price Elasticity","numbers":[],"query":"all_slaps = load \"MFG_SalesAgreementProductSchedule_2\"; valid_slaps = filter all_slaps by 'StartDate_sec_epoch' <= {{coalesce(cell(Selected_Sales_Agree_1.result,0,\"End Date\"),0).asObject()}}; valid_slaps = filter valid_slaps by 'ActualEndDate_sec_epoch' >= {{coalesce(cell(Selected_Sales_Agree_1.result,0,\"Start Date\"),0).asObject()}}; valid_slaps = filter valid_slaps by {{coalesce(cell(Product_Selection_1.selection,0,\"SalesAgreementProduct.Name\"),0).asEquality(\"SalesAgreementProduct.Name\")}}; current_slap = filter valid_slaps by 'SalesAgreementProduct.SalesAgreementId' == \"{{coalesce(cell(Selected_Sales_Agree_1.result,0,\"SalesAgreementProduct.SalesAgreementId\"),0).asObject()}}\"; current_slap = group current_slap by 'SalesAgreementProduct.SalesAgreementId'; current_slap = foreach current_slap generate number_to_string(round(30 * first('PlannedDailyQuantity'),0),\"#\") as 'Category', round(30 * avg('PlannedDailyQuantity'),0) as 'Quantity per 30 days', round(avg('SalesPrice') * ((100-coalesce(avg('DiscountPercentage'),0))/100),0) as 'Price', 1000 as 'Size'; valid_slaps = filter valid_slaps by 'SalesAgreementProduct.SalesAgreementId' != \"{{coalesce(cell(Selected_Sales_Agree_1.result,0,\"SalesAgreementProduct.SalesAgreementId\"),0).asObject()}}\"; valid_slaps = filter valid_slaps by 'isValidProductSchedule' == \"true\"; valid_slaps = group valid_slaps by 'SalesAgreementProduct.SalesAgreementId';valid_slaps = foreach valid_slaps generate  number_to_string(round(30 * first('PlannedDailyQuantity'),0),\"#\") as 'Category', round(30 * first('PlannedDailyQuantity'),0) as 'Quantity', round(avg('SalesPrice') * ((100-coalesce(avg('DiscountPercentage'),0))/100),0) as 'Price'; result = group valid_slaps by 'Category'; result = foreach result generate 'Category', first('Quantity') as 'Quantity per 30 days', avg('Price') as 'Price', 1 as 'Size'; result = union current_slap, result;","receiveFacetSource":{"mode":"none","steps":[]},"selectMode":"none","strings":[],"type":"saql","useGlobal":false,"visualizationParameters":{"parameters":{"radiusRatio":0.5,"columnMap":{"r":["Size"],"x":["Quantity per 30 days"],"y":["Price"],"trellis":[],"plots":["Category"]},"showActionMenu":true,"legend":{"descOrder":false,"showHeader":true,"show":true,"customSize":"auto","position":"right-top","inside":false},"tooltip":{"content":{"legend":{"showBinLabel":true,"measures":[],"showNullValues":true,"customizeLegend":false,"showPercentage":true,"showDimensions":true,"showMeasures":true,"dimensions":[]}}},"x":{"sqrtScale":false,"showZero":true,"showTitle":true,"showAxis":true,"title":"","customDomain":{"showDomain":false}},"visualizationType":"scatter","y":{"sqrtScale":false,"showZero":true,"showTitle":true,"showAxis":true,"title":"","customDomain":{"showDomain":false}},"theme":"wave","title":{"fontSize":14,"subtitleFontSize":11,"label":"","align":"center","subtitleLabel":""},"trellis":{"flipLabels":false,"showGridLines":true,"size":[100,100],"enable":false,"type":"x","chartsPerLine":4},"applyConditionalFormatting":true},"type":"chart"}},"Product_Performance_1":{"broadcastFacet":true,"groups":[],"label":"Product Performance","numbers":[],"query":"q = load \"MFG_SalesAgreementProductSchedule\"; q = filter q by 'SalesAgreementProduct.SalesAgreementId' == \"{{coalesce(cell(Selected_Sales_Agree_1.result,0,\"SalesAgreementProduct.SalesAgreementId\"),0).asObject()}}\";\nresult = group q by ('SalesAgreementProduct.SalesAgreementId', 'Id');\nresult = foreach result generate q.'SalesAgreementProduct.SalesAgreementId' as 'SalesAgreementProduct.SalesAgreementId', first('SalesAgreementProduct.Id') as 'SalesAgreementProduct.Id', q.'Id' as 'Id', sum(q.'DerivedActualAmount') as 'B', case when date_to_epoch(now()) < min(q.'ActualEndDate_sec_epoch') &&  date_to_epoch(now()) > min(q.'StartDate_sec_epoch') then daysBetween(toDate(min(q.'StartDate_sec_epoch')), now()) + 1 when date_to_epoch(now()) > min(q.'StartDate_sec_epoch') then daysBetween(toDate(min(q.'StartDate_sec_epoch')), toDate(min(q.'ActualEndDate_sec_epoch'))) + 1 else 0 end as 'G', min(q.'PlannedDailyAmount') as 'E';\nresult = foreach result generate 'SalesAgreementProduct.SalesAgreementId', 'SalesAgreementProduct.Id', 'B', E * G as 'H';\nresult = group result by ('SalesAgreementProduct.SalesAgreementId', 'SalesAgreementProduct.Id');\nresult = foreach result generate 'SalesAgreementProduct.SalesAgreementId' as 'SalesAgreementProduct.SalesAgreementId', 'SalesAgreementProduct.Id' as 'SalesAgreementProduct.Id', sum('B') as 'Revenue', sum('H') as 'Planned Amount', case when round(sum('B')/sum('H'),2)*100 > 90 then \"Good\" when round(sum('B')/sum('H'),2)*100 > 70 then \"Average\" when round(sum('B')/sum('H'),2)*100 <= 70 then \"Needs Attention\" else \"NA\" end as 'Product Performance';\nresult = group result by 'Product Performance';\nresult = foreach result generate 'Product Performance', count() as 'Count';","receiveFacetSource":{"mode":"none","steps":[]},"selectMode":"none","strings":[],"type":"saql","useGlobal":true,"visualizationParameters":{"parameters":{"centerText":"","legend":{"descOrder":false,"showHeader":true,"show":true,"customSize":"auto","position":"right-top","inside":false},"showMeasureTitle":true,"tooltip":{"content":{"legend":{"showBinLabel":true,"measures":[],"showNullValues":true,"customizeLegend":false,"showPercentage":true,"showDimensions":true,"showMeasures":true,"dimensions":[]}}},"visualizationType":"pie","title":{"fontSize":14,"subtitleFontSize":11,"label":"","align":"center","subtitleLabel":""},"trellis":{"flipLabels":false,"showGridLines":true,"size":[100,100],"enable":false,"type":"x","chartsPerLine":4},"inner":60,"columnMap":{"trellis":[],"dimension":["Product Performance"],"plots":["Count"]},"showActionMenu":true,"centerValueType":"number","valueType":"compactNumber","theme":"wave","compactDecimalDigits":-1,"applyConditionalFormatting":true},"type":"chart"}}},"widgetStyle":{"backgroundColor":"#FFFFFF","borderColor":"#E6ECF2","borderEdges":[],"borderRadius":0,"borderWidth":1},"widgets":{"container_1":{"parameters":{"alignmentX":"left","alignmentY":"top","fit":"original","interactions":[]},"type":"container"},"container_2":{"parameters":{"alignmentX":"left","alignmentY":"top","fit":"original","interactions":[]},"type":"container"},"text_1":{"parameters":{"content":{"richTextContent":[{"attributes":{"size":"16px","color":"#091A3E","align":"left"},"insert":"▼ Product Performance "}]},"interactions":[],"showActionMenu":true},"type":"text"},"link_3":{"parameters":{"destinationLink":{"name":"5ade52d1-e83c-4cb4-b62b-a3f2ebae1472"},"destinationType":"page","fontSize":16,"includeState":false,"text":"► Pricing Analysis ","textAlignment":"left","textColor":"#091A3E"},"type":"link"},"text_3":{"parameters":{"content":{"richTextContent":[{"attributes":{"size":"14px","color":"#091A3E","align":"left"},"insert":"Select a Product"}]},"interactions":[],"showActionMenu":true},"type":"text"},"link_4":{"parameters":{"destinationLink":{"name":"7668b516-7370-4c90-bbbb-d1ea11095d53"},"destinationType":"page","fontSize":16,"includeState":false,"text":"► Product Performance","textAlignment":"left","textColor":"#091A3E"},"type":"link"},"text_2":{"parameters":{"content":{"richTextContent":[{"attributes":{"size":"16px","color":"#091A3E","align":"left"},"insert":"▼ Pricing Analysis "}]},"interactions":[],"showActionMenu":true},"type":"text"},"link_1":{"parameters":{"destinationLink":{"name":"Sales_Agreements_Insights","namespace":""},"destinationType":"dashboard","fontSize":10,"includeState":false,"text":"VIEW DASHBOARD","textAlignment":"center","textColor":"#0070D2"},"type":"link"},"listselector_1":{"parameters":{"compact":false,"displayMode":"combo","displayTemplate":"[SalesAgreementProduct.Name]","exploreLink":false,"filterStyle":{"titleColor":"#091A3E","valueColor":"#091A3E"},"instant":true,"measureField":"none","showActionMenu":false,"step":"Product_Selection_1","title":""},"type":"listselector"},"link_2":{"parameters":{"destinationLink":{"name":"Pricing_Insights2","namespace":""},"destinationType":"dashboard","fontSize":10,"includeState":false,"text":"VIEW DASHBOARD","textAlignment":"center","textColor":"#0070D2"},"type":"link"},"chart_2":{"parameters":{"legend":{"descOrder":false,"showHeader":false,"show":false,"customSize":"auto","position":"right-top","inside":false},"tooltip":{"content":{"legend":{"showBinLabel":true,"measures":["Quantity per 30 days","Price"],"showNullValues":true,"customizeLegend":true,"showPercentage":true,"showDimensions":false,"showMeasures":true,"dimensions":["Category"]}}},"visualizationType":"scatter","exploreLink":true,"title":{"fontSize":14,"subtitleFontSize":11,"label":"","align":"center","subtitleLabel":""},"trellis":{"flipLabels":false,"showGridLines":true,"size":[100,100],"enable":false,"type":"x","parameters":{},"chartsPerLine":4},"radiusRatio":2,"columnMap":{"r":["Size"],"x":["Quantity per 30 days"],"y":["Price"],"trellis":[],"plots":["Category"]},"showActionMenu":false,"x":{"sqrtScale":false,"showZero":false,"showTitle":true,"showAxis":true,"title":"","customDomain":{"showDomain":false}},"y":{"sqrtScale":false,"showZero":false,"showTitle":true,"showAxis":true,"title":"","customDomain":{"showDomain":false}},"theme":"wave","step":"Price_Elasticity_1","applyConditionalFormatting":true},"type":"chart"},"chart_1":{"parameters":{"centerText":"","legend":{"descOrder":false,"showHeader":true,"show":true,"customSize":"auto","position":"right-top","inside":false},"showMeasureTitle":false,"tooltip":{"content":{"legend":{"showBinLabel":true,"measures":[],"showNullValues":true,"customizeLegend":false,"showPercentage":true,"showDimensions":true,"showMeasures":true,"dimensions":[]}}},"visualizationType":"pie","exploreLink":true,"title":{"fontSize":14,"subtitleFontSize":11,"label":"","align":"center","subtitleLabel":""},"trellis":{"flipLabels":false,"showGridLines":true,"size":[100,100],"enable":false,"type":"x","parameters":{},"chartsPerLine":4},"inner":80,"columnMap":{"trellis":[],"dimension":["Product Performance"],"plots":["Count"]},"showActionMenu":true,"centerValueType":"number","valueType":"compactNumber","theme":"light","step":"Product_Performance_1","compactDecimalDigits":-1,"applyConditionalFormatting":true},"type":"chart"}}}